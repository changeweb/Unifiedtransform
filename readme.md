## School Management and Accounting Software

We like to challenge the quality of what we build to make it better. To do so, we try to make the product intuitive, beautiful, and user friendly. Innovation and hard work help to fulfill these requirements. I believe in order to innovate we need to think differently. A few months ago I discovered there was no open source free school management software that met my quality standards. I happen to know a bit of programming so I decided to make one. I also believe that working with more people can push the standard higher than working alone. So I decided to make it open source and free.

## Contribute

Community contribution can make this product better!! See [Contribution guideline](https://github.com/changeweb/Unifiedtransform/blob/master/CONTRIBUTING.md) before making any Pull request
- We want testable softwares. So test cases are being written for this app too. You also can contribute by writing test case!
- To run Feature and Unit Tests use `./vendor/bin/phpunit` and to run Browser Tests set `APP_URL` environment variable in your `.env` file. This value should match the URL you use to access your application in a browser. Then run `php artisan dusk`.

## License

GNU General Public License v3.0

## Features

This software has following features:
- Roles: Master, Admin, Teacher, Student, Librarian, Accountant
- Attendance
- Mark
- Registration
- Notice, Syllabus
- Library
- Exam
- Grade
- Accounts
- Messaging

## Framework used

- Laravel 5.5
- Bootstrap 3.3.7

## Server Requirements

- PHP >= 7.0.0
- OpenSSL PHP Extension
- PDO PHP Extension
- Mbstring PHP Extension
- Tokenizer PHP Extension
- XML PHP Extension

## How to Start
Here are some basic steps to start using this application

**Note:** Instruction on cached data for Dashboard is given in **Good to know** segment below.
* Run `php composer.phar install` for developer environment and run `php composer.phar install --no-dev` for production environment to install Laravel packages
* Create `.env` file from `.env.example` and generate `APP_KEY` using `php artisan key:generate`
* Set the database connection configuration and APP_ENV according to your application environment (e.g. local, production) in `.env` file
* To create a `Master`, go to the `database\seeds\UsersTableSeeder.php` and change the `name`, the `email` and the `password` settings to your likings. Leave the other settings (role, active, verified) unchanged!
* [Laravel Passport](https://laravel.com/docs/5.5/passport) package is included to support API. *Key* for Passport should be automatically generated by `php artisan passport:keys` from `post-install-cmd` script in `composer.json` or you have to run this manually and to remove this package just follow these steps

   * Remove it from `composer.json` require dependencies and remove command `@php artisan passport:keys` from `post-install-cmd` script
   * Run `composer update` and `composer dump-autoload`.
   * And all classes that relies on passport must be edited as well. The most common classes are:
      * `app\User.php` model, remove the `HasApiToken` trait.
      * `app\Proiders\AuthServiceProvider`, remove `Passport::routes();` in your boot method.
      * In `config/auth.php`, change your driver option for `api` from `passport` to `api` authentication
* To create the tables, run `php artisan migrate`.
   * If you don't want to use **Passport** package then remove the **Passport Migrations** in database `migrations` table and run command `artisan migrate:refresh`
* To seed the tables with fake data, use `php artisan db:seed`.
* If you want to run the migration and the seeding together, use `php artisan migrate:refresh --seed`
* You must seed `database\seeds\UsersTableSeeder.php` at least once in order to create the **Master** account. To do so, follow these steps:
  * comment all the seeders except `$this->call(UsersTableSeeder::class);` in `database\seeds\DatabaseSeeder.php`;
  * then comment `factory(App\User::class, 200)->create();` in `UsersTableSeeder.php`.

   So your files will look something like this:

   In `database\seeds\DatabaseSeeder.php`:

      ...
      //$this->call(SectionsTableSeeder::class);
      $this->call(UsersTableSeeder::class);
      //$this->call(AttendancesTableSeeder::class);
      ...

   In `database\seeds\UsersTableSeeder.php`:
   
      ...
      //factory(App\User::class, 200)->create();


## Create a school and an admin

* Important: only a `master` can create a new school and its admins!
* Login at `example.com\login` using your `Master` account credentials
* Create a new `school`
* Create a new `admin` for the newly created school

## Manage a school

* Important: A `master` CANNOT manage a school's data!
* Login as `admin` at `example.com\login`
* Now add data to the school as required.

## Good to know

* In `.env`, turn `APP_DEBUG` to `false` for production environment.
* You can switch to and from maintenance mode by running `php artisan up` and `php artisan down`.
* Dashboard page contents(e.g. Student count, Teacher count, Notice, etc.) are cached because these are not frequently changed. If you don't want these to be cached, just remove the cache lines in `index` method in `app\Http\Controller\HomeController.php`like the following example.
So your edit would be something like this:

From:

    ...
    $classes = \Cache::remember('classes', $minutes, function () {
       return \App\Myclass::where('school_id', \Auth::user()->school->id)
                            ->pluck('id')
                            ->toArray();
    });
    ...
    
To:

    ...
    $classes = \App\Myclass::where('school_id', \Auth::user()->school->id)
                            ->pluck('id')
                            ->toArray();
    ...

You can do similar for other cache lines.

## Here are some screenshots:

Auto generated fake data were used.

![Screenshot_2019-03-12 - Arvid Marquardt](https://user-images.githubusercontent.com/9896315/54187724-68008500-44d8-11e9-9ed1-880bcef0fa06.png)
![Screenshot_2019-03-21 Account Sectors - Britney Luettgen](https://user-images.githubusercontent.com/9896315/54765196-45cadd80-4c23-11e9-81d2-c761796678c8.png)
![Screenshot_2019-03-12 Add New Book - Arvid Marquardt](https://user-images.githubusercontent.com/9896315/54187727-68991b80-44d8-11e9-972b-370a7b4a89b1.png)
![Screenshot_2019-03-12 Add Routine - Arvid Marquardt](https://user-images.githubusercontent.com/9896315/54187728-68991b80-44d8-11e9-9655-62b83fe9e4dc.png)
![Screenshot_2019-03-12 Alba Huel - Arvid Marquardt](https://user-images.githubusercontent.com/9896315/54187729-6931b200-44d8-11e9-936e-df49e1ca91e6.png)
![Screenshot_2019-03-12 All Classes and Sections - Arvid Marquardt](https://user-images.githubusercontent.com/9896315/54187730-6931b200-44d8-11e9-9b8a-f4fd1657ef7d.png)
![Screenshot_2019-03-12 All Issued Book - Arvid Marquardt](https://user-images.githubusercontent.com/9896315/54187731-69ca4880-44d8-11e9-98ec-b345a3de3691.png)
![Screenshot_2019-03-12 Attendance - Arvid Marquardt(1)](https://user-images.githubusercontent.com/9896315/54187732-69ca4880-44d8-11e9-904b-8b3a3c4cff64.png)
![Screenshot_2019-03-12 Attendance - Arvid Marquardt(2)](https://user-images.githubusercontent.com/9896315/54187733-6a62df00-44d8-11e9-8c25-4598df4d9346.png)
![Screenshot_2019-03-12 Attendance - Arvid Marquardt](https://user-images.githubusercontent.com/9896315/54187734-6a62df00-44d8-11e9-9242-78b6fb805eda.png)
![Screenshot_2019-03-12 Course - Arvid Marquardt](https://user-images.githubusercontent.com/9896315/54187735-6afb7580-44d8-11e9-99c0-6095b98f432e.png)
![Screenshot_2019-03-12 Course Students - Arvid Marquardt(1)](https://user-images.githubusercontent.com/9896315/54187737-6afb7580-44d8-11e9-9bc1-def5aee46e57.png)
![Screenshot_2019-03-29 Grade - Deron Ruecker DDS](https://user-images.githubusercontent.com/9896315/55222646-a4511680-5236-11e9-89f0-606df40c1a6b.png)
![Screenshot_2019-03-12 Manage Schools - Arvid Marquardt(3)](https://user-images.githubusercontent.com/9896315/54187739-6b940c00-44d8-11e9-83c0-fb06cbd3c316.png)
![Screenshot_2019-03-12 Manage Schools - Arvid Marquardt](https://user-images.githubusercontent.com/9896315/54187740-6c2ca280-44d8-11e9-93b1-a998ac1cd585.png)
![Screenshot_2019-03-12 Promote Section Students - Arvid Marquardt(1)](https://user-images.githubusercontent.com/9896315/54187741-6c2ca280-44d8-11e9-871a-51148b27c2b4.png)
![Screenshot_2019-03-12 Students - Arvid Marquardt](https://user-images.githubusercontent.com/9896315/54187744-6cc53900-44d8-11e9-9ad4-c1acc58fe6a2.png)
